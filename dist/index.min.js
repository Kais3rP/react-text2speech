"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=require("events"),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=t.createContext&&t.createContext(n),i=function(){return i=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]])}return n};function r(e){return e&&e.map((function(e,n){return t.createElement(e.tag,i({key:n},e.attr),r(e.child))}))}function a(e){var r=function(n){var s,r=e.attr,a=e.size,l=e.title,c=o(e,["attr","size","title"]),h=a||n.size||"1em";return n.className&&(s=n.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:s,style:i(i({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&t.createElement("title",null,l),e.children)};return void 0!==s?t.createElement(s.Consumer,null,(function(t){return r(t)})):r(n)}var l=Object.freeze({__proto__:null,DefaultContext:n,GenIcon:function(e){return function(n){return t.createElement(a,i({attr:i({},e.attr)},n),r(e.child))}},IconBase:a,IconContext:s,IconsManifest:[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}]}),c=l.GenIcon,h=function(t){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(t)};const d=(t,e)=>({type:t,payload:e}),u=t=>d("CHANGE_UISTATE",t),p=t=>d("CHANGE_SETTINGS",t),m=t=>d("CHANGE_OPTIONS",t),g=t=>d("CHANGE_STATE",t),v=t=>d("CHANGE_HIGHLIGHT_STYLE",t);function x(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var _="styles-module_showButton__kw1jn",y="styles-module_arrow__8nMp9",f="styles-module_line__RX9UN";x(".styles-module_showButton__kw1jn {\n\tposition: fixed;\n\tbottom: 20px;\n\tright: -19px;\n\tborder-radius: 50%;\n\tborder: 2px solid var(--primaryColor);\n\twidth: 40px;\n\theight: 40px;\n\tbackground-color: var(--secondaryColor);\n\tcursor: pointer;\n\tz-index: 100;\n\ttransition: all 0.2s ease-out;\n}\n\n.styles-module_showButton__kw1jn:hover {\n\tborder: 2px solid var(--secondaryColor);\n\ttransform: scale(1.05);\n\tbox-shadow: 0px 0px 10px 2px var(--secondaryColor);\n\tbackground-color: var(--bgColor);\n}\n\n.styles-module_showButton__kw1jn:hover .styles-module_arrow__8nMp9 {\n\tfill: var(--primaryColor);\n\tleft: -60px;\n\ttransform: scale(3) translateY(-3px);\n\topacity: 0;\n}\n\n.styles-module_line__RX9UN {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\theight: 38px;\n\twidth: 2px;\n\tbackground-color: var(--primaryColor);\n}\n\n.styles-module_arrow__8nMp9 {\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tleft: -1px;\n\twidth: 20px;\n\theight: 20px;\n\tfont-size: 340px;\n\tfill: var(--bgColor);\n\ttransition: all 0.7s ease-out;\n\tpointer-events: none;\n\t/* animation: movingArrow 0.5s infinite linear; */\n}\n");const b=t.createContext(null),C=t.createContext(null),w=t.createContext(null);function E(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]])}return n}function k(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{l(s.next(t))}catch(t){o(t)}}function a(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((s=s.apply(t,e||[])).next())}))}class T extends class{}{constructor(){super(),this.isMobile=T.isMobile(),this.isSafari=T.isSafari(),this.isBrowserSupported=T.isBrowserSupported()}static isMobile(){return!(!navigator||!window)&&(!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(!!/iPad|iPhone|iPod/.test(navigator.platform)||(window.innerWidth<768||window.devicePixelRatio>1)))}static isSafari(){return navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")}static isBrowserSupported(){try{return void 0!==window.speechSynthesis&&void 0!==window.SpeechSynthesisUtterance}catch(t){return!1}}}class I{static isSlashTextContent(t){return!!t&&/<.+>\/<\/.+>/.test(t)}static isDigitTextContent(t){return!!t&&/<.+>\d+<\/.+>/.test(t)}static isWordTextContent(t){return!!t&&/<.+>[a-zA-Z]+<\/.+>/.test(t)}static isWord(t){return!!t&&/^[a-zA-Z]/.test(t)}static isWordWithNumbers(t){return!!t&&/^[a-zA-Z0-9]+$/.test(t)}static isNumber(t){return!!t&&(!isNaN(+t)&&isFinite(+t)||parseFloat(t))}static isURL(t){return!!t&&/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/.test(t)}static isSpace(t){return" "===t}static isEmptyString(t){return""===t}static isWhitespaceChar(t){return/^[\n\r\t]+$/.test(t)}static isAt(t){return"@"===t}static isDot(t){return"."===t}static isZero(t){return"0"===t}static isPunctuation(t){return!!t&&/^[.,;:!?]+$/.test(t)}static isPunctuationButDot(t){return!!t&&/^[,;:!?]+$/.test(t)}static isHashtag(t){return"#"===t}static isSlash(t){return"/"===t}static isParens(t){return!!t&&/^[()[\]{}]+$/.test(t)}static isTag(t){return!!t&&/<.+?>/.test(t)}static isCodeOpenTag(t){return!!t&&/<code(@@)?\s?([a-zA-Z-]+="[a-zA-Z-_@\s]+")?>/.test(t)}static isCodeCloseTag(t){return!!t&&/<\/code>/.test(t)}static isWordInsideAngularBrackets(t){return!!t&&/^<+.*>+\.?$/.test(t)}static isSpecialReadableCharacter(t){return!!t&&/^[@#\\/_*^°£$%&=+]+$/.test(t)}static isSpecialUnreadableCharacter(t){return!!t&&/^[()[\]{}'"<>`|-]+$/.test(t)}static isSpecialCharacter(t){return!!t&&/^([.,;:\-_`'"*+()[\]{}<>\s\n])$/.test(t)}static isHTMLEntity(t){return!!t&&/&[a-z]+?;+/.test(t)}static isValidDate(t){return new Date(t)>0}static retrieveChunks(t){let e=".";const n=[];let s=0;return t.__split__(/[.!?;]/,/[^\s]/,/[\s\n]+/).forEach(((t,i)=>{if(I.isPunctuation(t))e=t;else{const o=t.trim().split(/[\s]/).filter((t=>t)).length,r=t.split(/\s+/).__join__(((t,e,n)=>I.isPunctuation(n[e+1])||I.isDot(t)?"":" ")),a={text:r+e,length:o,start:s,end:s+o-1,idx:i};s+=o,n.push(a)}})),n}static getTextDuration(t,e){return 100*t.length*1/e}static getAverageTextElapsedTime(t,e){const n=t.slice(0,e).join(" ");return t=>I.getTextDuration(n,t)}static __split__(t,e,n){if("string"!=typeof t&&!(t instanceof RegExp))throw new Error("The separator must be a string or a Regular Expression");const s=[];let i="";const o=t instanceof RegExp?t:new RegExp(t);let r="",a="";const l=e instanceof RegExp?e:new RegExp(e),c=n instanceof RegExp?n:new RegExp(n);for(const[t,e]of Object.entries(this))a=this[+t+1],o.test(e)&&l.test(r)&&c.test(a)?(s.push(i),i=""):i+=e,r=e;return i.length>0&&s.push(i),s}}I.__join__=function(t){let e="",n=0;for(const s of this){const i=t(s,n,this);e=e+s.toString()+i,n++}return e};class S{static isFunction(t){return t&&"function"==typeof t}static formatMsToTime(t){let e,n,s,i=0,o=0;return e=Math.floor(t/1e3),i=Math.floor(e%60),n=Math.floor(e/60),o=Math.floor(n%60),s=Math.floor(n/60),e=i.toString().padStart(2,"0"),n=(n===o?n:o).toString().padStart(2,"0"),s=s.toString().padStart(2,0),s>0?`${s}:${n}:${e}`:`${n}:${e}`}static debounce(t,e){let n;return function(...s){n&&clearTimeout(n),n=setTimeout((()=>t(...s)),e)}}static hexToRGB(t,e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"object"===e?n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null:n?`rgb(${parseInt(n[1],16)},${parseInt(n[2],16)},${parseInt(n[3],16)})`:null}static isDarkColor(t){if(0===t.indexOf("#")&&(t=t.slice(1)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6!==t.length)throw new Error("Invalid HEX color.");return.2126*parseInt(t.slice(0,2),16)+.7152*parseInt(t.slice(2,4),16)+.0722*parseInt(t.slice(4,6),16)<128}static invertColor(t){if(0===t.indexOf("#")&&(t=t.slice(1)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6!==t.length)throw new Error("Invalid HEX color.");return"#"+(255-parseInt(t.slice(0,2),16)).toString(16).padStart(2,"0")+(255-parseInt(t.slice(2,4),16)).toString(16).padStart(2,"0")+(255-parseInt(t.slice(4,6),16)).toString(16).padStart(2,"0")}static formatVoices(t){return t.map((t=>{var e;return{name:null===(e=t.name)||void 0===e?void 0:e.replace(/(Microsoft\s)|(Online\s)|(\(Natural\))|(\s-.*$)/gm,""),value:t.voiceURI}}))}static getBrushURL(t,e){const n=`s2.svgbox.net/pen-brushes.svg?ic=${t}&color=${e.replace("#","")}`;return{http:`https://${n}`,css:`url(//${n})`}}static isBrushAvailable(t,e){return k(this,void 0,void 0,(function*(){const n=S.getBrushURL(t,e).http,s=yield fetch(n),i=yield s.blob();return!(!s.ok||!/image/.test(null==i?void 0:i.type))}))}}class O{constructor(){this.HTMLTags=["div","span","a","i","img","html","body","section","article","main","head","header","aside","nav"],this.tagIndex=0}addHTMLHighlightTags(t){[...t.childNodes].forEach((e=>{if((1!==e.nodeType||"PRE"!==e.tagName&&"CODE"!==e.tagName)&&(1===e.nodeType&&this.addHTMLHighlightTags(e),3===e.nodeType)){if(I.isEmptyString(e.textContent)||I.isSpace(e.textContent)||I.isWhitespaceChar(e.textContent))return;const n=document.createElement("span");e.data.split("").filter(((t,e,n)=>!!t&&((!I.isSpace(t)||!I.isPunctuation(n[e+1]))&&(!I.isSpace(t)||!I.isSpace(n[e+1]))))).map(((t,e,n)=>I.isWhitespaceChar(t)?" ":I.isSpecialReadableCharacter(t)?` ${t} `:I.isDot(t)&&I.isNumber(n[e-1])&&I.isNumber(n[e+1])?`${t}`:I.isDot(t)&&I.isWordWithNumbers(n[e-1])&&I.isWordWithNumbers(n[e+1])?` ${t} `:I.isPunctuationButDot(t)&&I.isWord(n[e-1])&&I.isWord(n[e+1])?`${t} `:t)).join("").split(" ").forEach(((t,e,s)=>{if(t)if(I.isSpecialUnreadableCharacter(t)||I.isWordInsideAngularBrackets(t)){const e=document.createTextNode(t+" ");n.appendChild(e)}else{const i=document.createElement("span");i.setAttribute("data-id",(this.tagIndex++).toString()),i.setAttribute("data-type","WORD"),I.isSpecialReadableCharacter(t)||I.isSpecialReadableCharacter(s[e+1])||I.isDot(t)||I.isDot(s[e+1])||I.isZero(t)?i.textContent=t:i.textContent=t+" ",n.appendChild(i)}})),t.replaceChild(n,e)}}))}static applyBasicStyleToWords(t,e){[...t.querySelectorAll(e)].forEach((t=>{t.style.transition="background-color 0.2s linear, color 0.2s linear",t.style.margin="0px -0.3em",t.style.padding="0.2em 0.3em",t.style.backgroundSize="cover"}))}static addCustomEventListeners(t,e){t.forEach((t=>{if(t.handlers.length>0)for(const n of t.handlers)S.isFunction(n)&&e.on(t.type,n.bind(this))}))}static attachEventListenersToWords(t,e,{type:n,fn:s}){[...t.querySelectorAll(e)].forEach((t=>{t.addEventListener(n,s)}))}static scrollTo(t){const e=document.querySelector(`[data-id="${t}"]`);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}static retrieveNumberOfWords(t,e){return[...t.querySelectorAll(e)].length}static retrieveWholeText(t,e){return[...t.querySelectorAll(e)].map((t=>t.textContent)).__join__(((t,e,n)=>I.isPunctuation(n[e+1])||I.isDot(t)?"":" "))}static retrieveWholeTextArray(t,e){return[...t.querySelectorAll(e)].map((t=>t.textContent))}}class z{}z.browserNotSupported="Your browser does not support Speech Synthesis, please switch to a more modern browser.",z.initializeError="Init error",z.safariNotFullySupported="Safari might present weird behaviour and bugs, update to the latest version or switch to a fully supported browser",z.timeoutError="Timeout reached",z.voicesRetrieveTimeoutError='Impossible to retrieve the voices (If you are using Firefox on Linux you need the "speech-dispatcher" package installed).';class M extends e{constructor(t,{language:e="en",color1:n="#DEE",color2:s="#9DE",onStateChange:i=(()=>null),onSettingsChange:o=(()=>null),onOptionsChange:r=(()=>null),onStyleChange:a=(()=>null)}={language:"en",color1:"#DEE",color2:"#9DE",onStateChange:()=>null,onSettingsChange:()=>null,onOptionsChange:()=>null,onStyleChange:()=>null}){super(),this.textContainer=t,this.deviceInfo=new T,this.DOMUtils=new O,this.timeoutRef=void 0,this.debouncedRestartTimeoutRef=void 0,this.events=[{type:"state-change",handlers:[i]},{type:"settings-change",handlers:[o]},{type:"options-change",handlers:[r]},{type:"style-change",handlers:[a]}];this.settings=new Proxy({pitch:1,voiceURI:"",language:e,rate:1,volume:.5},{set:(t,e,n)=>{const s=Reflect.set(t,e,n);switch(this.clearTimeCount(),e){case"voiceURI":this.changeVoice();break;case"rate":this.changeRate();break;case"language":this.changeLanguage();break;default:this.utterance[e]=n}return this.initUtterance(),this.debouncedRestart(200),this.emit("settings-change",this),s}});this.options=new Proxy({isHighlightTextOn:!0,isChunksModeOn:this.deviceInfo.isMobile,isPreserveHighlighting:!0,isUnderlinedOn:!1,isBrushOn:!0},{set:(t,e,n)=>{const s=Reflect.set(t,e,n);switch(e){case"isChunksModeOn":this.changeChunkMode();break;case"isUnderlinedOn":case"isBrushOn":this.applyStyleToHighlightedWords();break;case"isHighlightTextOn":n?this.options.isChunksModeOn&&this.highlightChunk(this.state.currentChunkIndex):this.resetHighlight()}return this.emit("options-change",this),s}});this.state=new Proxy({allVoices:[],voices:[],voice:{},isLoading:!1,currentWord:"",currentWordIndex:0,currentWordProps:{charIndex:0,charLength:0},highlightedWords:[],lastWordPosition:0,numberOfWords:0,wholeText:"",wholeTextArray:[],textRemaining:"",duration:0,elapsedTime:0,currentChunkIndex:0,chunksArray:[],isBrushAvailable:!1,isPaused:!1,isReading:!1,isUtteranceCanceled:!1},{set:(t,e,n)=>{const s=Reflect.set(t,e,n);return"elapsedTime"===e?(n%1e3==0&&this.emit("state-change",this,e),s):(this.emit("state-change",this,e),s)}});this.style=new Proxy({color1:n,color2:s,brush:"brush-1"},{set:(t,e,n)=>{const s=Reflect.set(t,e,n);return this.applyStyleToHighlightedWords(),this.emit("style-change",this),s}})}init(){return k(this,void 0,void 0,(function*(){if(!this.deviceInfo.isBrowserSupported)throw new Error(z.browserNotSupported);Array.prototype.__join__=I.__join__,String.prototype.__split__=I.__split__;try{return this.synth=window.speechSynthesis,this.utterance=new window.SpeechSynthesisUtterance,yield this.retrieveAndSetVoices(),this.DOMUtils.addHTMLHighlightTags(this.textContainer),O.applyBasicStyleToWords(this.textContainer,"[data-id]"),this.state.numberOfWords=O.retrieveNumberOfWords(this.textContainer,"[data-id]"),this.state.wholeText=O.retrieveWholeText(this.textContainer,"[data-id]"),this.state.textRemaining=this.state.wholeText,this.state.duration=I.getTextDuration(this.state.wholeText,this.settings.rate),this.state.wholeTextArray=O.retrieveWholeTextArray(this.textContainer,"[data-id]"),this.state.chunksArray=I.retrieveChunks(this.state.wholeText),this.state.isBrushAvailable=yield S.isBrushAvailable(this.style.brush,this.style.color1),O.attachEventListenersToWords(this.textContainer,"[data-id]",{type:"click",fn:t=>{const e=+t.target.dataset.id;this.seekTo(e)}}),O.addCustomEventListeners(this.events,this),this.initUtterance(),this}catch(t){throw new Error(`${z.initializeError}, Reason: ${t}`)}}))}initUtterance(){this.utterance.text=this.options.isChunksModeOn?this.getCurrentChunkText():this.getRemainingText(),this.utterance.lang=this.settings.language,this.utterance.voice=this.state.voice,this.utterance.pitch=this.settings.pitch,this.utterance.rate=this.settings.rate,this.utterance.volume=this.settings.volume,this.utterance.onboundary=this.handleBoundary.bind(this),this.utterance.onend=t=>{if(!this.state.isUtteranceCanceled&&(!1!==this.state.isReading||!1!==this.state.isPaused)){if(!this.options.isChunksModeOn&&this.state.currentWordIndex>=this.state.wholeTextArray.length-1||this.options.isChunksModeOn&&this.state.currentChunkIndex>=this.state.chunksArray.length-1)return this.emit("end",this);this.options.isPreserveHighlighting||this.resetHighlight(),this.options.isChunksModeOn&&this.state.isReading&&this.handleChunkHighlighting(),this.play()}}}highlightText(t){if(!this.options.isHighlightTextOn)return;const e=this.textContainer.querySelector(`[data-id="${t}"]`);if(!e)return;this.state.highlightedWords.push(e);const n=e.getBoundingClientRect().x;n<=this.state.lastWordPosition&&O.scrollTo(this.state.currentWordIndex),this.options.isPreserveHighlighting||this.options.isChunksModeOn||(this.resetHighlight(),this.state.highlightedWords=[e]),this.state.lastWordPosition=n,this.applyStyleToWord(e)}resetHighlight(){this.state.highlightedWords.forEach((t=>{t.style.backgroundImage="",t.style.backgroundColor="",t.style.color="",t.style.textDecoration="none",this.state.highlightedWords=[]}))}highlightChunk(t){const e=this.state.currentWordIndex+this.state.chunksArray[t].length;for(let t=this.state.currentWordIndex;t<e;t++)this.highlightText(t)}handleChunkHighlighting(){const t=this.state.chunksArray[this.state.currentChunkIndex],e=this.state.chunksArray[++this.state.currentChunkIndex];this.utterance.text=e.text,this.state.currentWordIndex+=t.length,this.highlightChunk(this.state.currentChunkIndex)}timeCount(t,e){if(e%10!=0)throw new Error("Frequency must be a multiple of 10");this.state.elapsedTime+=e,this.timeoutRef=setTimeout(this.timeCount.bind(this,t,e),e)}clearTimeCount(){clearTimeout(this.timeoutRef)}resetTimeCount(){this.state.elapsedTime=0,this.clearTimeCount()}handleBoundary(t){if(this.options.isChunksModeOn)return;this.state.currentWord=this.state.wholeTextArray[this.state.currentWordIndex];const e=this.state.wholeTextArray[this.state.currentWordIndex-1];"word"===t.name&&0!==t.charLength&&((I.isNumber(e)||I.isValidDate(e))&&t.charIndex===this.state.currentWordProps.charIndex&&t.charLength===this.state.currentWordProps.charLength||(this.state.currentWordProps={charIndex:t.charIndex,charLength:t.charLength},this.highlightText(this.state.currentWordIndex),this.state.currentWordIndex+=1,/[.?!;]+/.test(this.state.wholeTextArray[this.state.currentWordIndex])&&this.state.currentChunkIndex++,this.emit("boundary",this,t)))}filterVoices(t){return t.filter((t=>t.lang.startsWith(this.settings.language)))}getAllVoices(){return new Promise(((t,e)=>{let n=null,s=0;try{n=setInterval((()=>{s+=10,0!==this.synth.getVoices().length&&(clearInterval(n),t(this.synth.getVoices())),s>=1e3&&(clearInterval(n),e(z.voicesRetrieveTimeoutError))}),10)}catch(t){e(t),clearInterval(n)}}))}updateVoices(){var t;this.state.voices=this.filterVoices(this.state.allVoices),this.state.voice=this.state.voices[0],this.settings.voiceURI=(null===(t=this.state.voice)||void 0===t?void 0:t.voiceURI)||""}retrieveAndSetVoices(){return k(this,void 0,void 0,(function*(){try{this.state.allVoices=yield this.getAllVoices(),this.updateVoices()}catch(t){throw t}}))}applyStyleToWord(t){const e=S.getBrushURL(this.style.brush,this.style.color1).css;t.style.backgroundImage=this.state.isBrushAvailable&&this.options.isBrushOn?e:"none",t.style.backgroundColor=this.state.isBrushAvailable&&this.options.isBrushOn?"transparent":this.style.color1,t.style.color=this.style.color2,t.style.textDecoration=this.options.isUnderlinedOn?"underline":"none"}applyStyleToHighlightedWords(){this.state.highlightedWords.forEach((t=>this.applyStyleToWord(t)))}changeChunkMode(){this.clearTimeCount(),this.state.currentWordIndex=this.state.chunksArray[this.state.currentChunkIndex].start,this.options.isChunksModeOn?(this.utterance.text=this.getCurrentChunkText(),this.highlightChunk(this.state.currentChunkIndex)):(this.getAndSetText(),this.resetHighlight()),this.restart()}changeVoice(){const t=this.state.voices.find((t=>t.voiceURI===this.settings.voiceURI))||this.state.voices[0];this.state.voice=t,this.utterance.voice=t}changeRate(){this.state.duration=I.getTextDuration(this.state.wholeText,this.settings.rate),this.state.elapsedTime=I.getAverageTextElapsedTime(this.state.wholeTextArray,this.state.currentWordIndex)(this.settings.rate),this.utterance.rate=this.settings.rate,this.emit("time-tick",this,this.state.elapsedTime)}changeLanguage(){return k(this,void 0,void 0,(function*(){this.updateVoices()}))}getRemainingText(){const t=this.state.wholeTextArray.length;return this.state.wholeTextArray.slice(this.state.currentWordIndex,t+1).__join__(((t,e,n)=>I.isDot(n[e+1])||I.isDot(t)?"":" "))}getCurrentChunkText(){var t;return null===(t=this.state.chunksArray[this.state.currentChunkIndex])||void 0===t?void 0:t.text}getAndSetText(){this.state.textRemaining=this.getRemainingText(),this.utterance.text=this.state.textRemaining}cancelUtterance(){this.state.isUtteranceCanceled=!0,this.synth.cancel(),setTimeout((()=>this.state.isUtteranceCanceled=!1),1e3)}cancel(){this.synth.cancel()}debouncedRestart(t){clearTimeout(this.debouncedRestartTimeoutRef),this.debouncedRestartTimeoutRef=setTimeout((()=>{this.cancelUtterance(),this.isReading()&&this.play(),this.isPaused()&&(this.play().then((()=>{this.pause()})),setTimeout((()=>this.pause()),10),setTimeout((()=>this.pause()),20),setTimeout((()=>this.pause()),30),setTimeout((()=>this.pause()),40),setTimeout((()=>this.pause()),50),setTimeout((()=>this.pause()),100),setTimeout((()=>this.pause()),500),this.pause())}),t)}restart(){this.cancel(),this.isReading()&&this.play(),this.isPaused()&&(this.play().then((()=>this.pause())),this.pause())}seekTo(t){this.clearTimeCount();const e=this.state.chunksArray.find((e=>t>=e.start&&t<=e.end));this.state.currentChunkIndex=e.idx,this.options.isChunksModeOn?(this.state.currentWordIndex=e.start,this.utterance.text=e.text,this.resetHighlight(),this.highlightChunk(this.state.currentChunkIndex)):(this.state.currentWordIndex=t,this.getAndSetText(),this.resetHighlight(),this.highlightText(this.state.currentWordIndex)),this.state.elapsedTime=I.getAverageTextElapsedTime(this.state.wholeTextArray,this.state.currentWordIndex)(this.settings.rate),this.emit("time-tick",this,this.state.elapsedTime),this.debouncedRestart(500)}play(){return this.cancel(),this.clearTimeCount(),this.synth.speak(this.utterance),this.state.isPaused=!1,this.state.isReading=!0,this.state.isLoading=!0,new Promise((t=>{this.utterance.onstart=e=>{this.options.isChunksModeOn&&this.highlightChunk(0),this.state.isLoading=!1,this.timeCount(null,20),t(null)}}))}pause(){this.synth.pause(),this.state.isPaused=!0,this.state.isReading=!1,this.emit("pause",this),this.clearTimeCount()}resume(){this.options.isChunksModeOn?this.play():this.synth.resume(),this.state.isPaused=!1,this.state.isReading=!0,this.emit("resume",this),this.timeCount(null,20)}reset(){this.cancel(),this.resetHighlight(),this.resetTimeCount();const t={textRemaining:this.state.wholeText,currentWordIndex:0,currentChunkIndex:0,highlightedWords:[],lastWordPosition:0,isPaused:!1,isReading:!1,isUtteranceCanceled:!1};for(const e of Object.entries(t))this.state[e[0]]=e[1];const e={pitch:1,rate:1,volume:.5};for(const t of Object.entries(e))this.settings[t[0]]=t[1];this.initUtterance(),O.scrollTo(1),this.emit("reset",this)}isReading(){return this.state.isReading}isPaused(){return this.state.isPaused}}const R={UIState:{isMinimized:!0,isVisible:!1,isDark:!1},error:null,settings:{rate:1,voiceURI:"",volume:.5,pitch:0,language:"en"},options:{isPreserveHighlighting:!0,isHighlightTextOn:!0,isChunksModeOn:!1,isUnderlinedOn:!1,isBrushOn:!0},highlightStyle:{color1:"",color2:"",brush:"brush-1"},state:{allVoices:[],voice:{},voices:[],isLoading:!1,currentWord:"",currentWordIndex:0,currentWordProps:{charIndex:0,charLength:0},highlightedWords:[],lastWordPosition:0,numberOfWords:0,wholeText:"",wholeTextArray:[],textRemaining:"",duration:0,elapsedTime:0,currentChunkIndex:0,chunksArray:[],isBrushAvailable:!1,isPaused:!1,isReading:!1,isUtteranceCanceled:!1}},P=(t,e)=>{const{type:n,payload:s}=e;switch(n){case"CHANGE_UISTATE":return Object.assign(Object.assign({},t),{UIState:Object.assign(Object.assign({},t.UIState),s)});case"CHANGE_STATE":return Object.assign(Object.assign({},t),{state:Object.assign(Object.assign({},t.state),s)});case"CHANGE_SETTINGS":return Object.assign(Object.assign({},t),{settings:Object.assign(Object.assign({},t.settings),s)});case"CHANGE_OPTIONS":return Object.assign(Object.assign({},t),{options:Object.assign(Object.assign({},t.options),s)});case"CHANGE_HIGHLIGHT_STYLE":return Object.assign(Object.assign({},t),{highlightStyle:Object.assign(Object.assign({},t.highlightStyle),s)});case"UPDATE_ERROR":return Object.assign(Object.assign({},t),{error:s});default:return Object.assign({},t)}},W=()=>t.useContext(b),j=()=>t.useContext(w),U=()=>t.useContext(C),L=({value:e,children:n})=>t.createElement(C.Provider,{value:e},n),B=({children:e})=>{const{dispatch:n}=W(),{textContainer:s,options:i,styleOptions:o}=U(),r=t.useRef(new M(s,Object.assign(Object.assign({},i),{color1:(null==o?void 0:o.highlightColor1)||"#DEE",color2:o.highlightColor2||"#9DE",onStateChange:(t,e)=>{"elapsedTime"===e&&t.state[e]%1e3==0?n(g({[e]:t.state[e]})):n(g({[e]:t.state[e]}))},onSettingsChange:t=>{n(p(t.settings))},onOptionsChange:t=>{n(m(t.options))},onStyleChange:t=>{n(v(t.style))}})));return t.createElement(w.Provider,{value:{reader:r.current}},e)},N=({children:e})=>{const[n,s]=t.useReducer(P,R);return t.createElement(b.Provider,{value:{state:n,dispatch:s}},e)},A=()=>{const{dispatch:e}=W();return t.createElement("div",{title:"Show",className:_,onPointerDown:t=>{t.stopPropagation(),e(u({isVisible:!0}))},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation()}},t.createElement("div",{className:f}),t.createElement(h,{className:y}))};var D=l.GenIcon,H=function(t){return D({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M517.6 273.5L230.2 499.3a16.14 16.14 0 0 0 0 25.4l287.4 225.8c10.7 8.4 26.4.8 26.4-12.7V286.2c0-13.5-15.7-21.1-26.4-12.7zm320 0L550.2 499.3a16.14 16.14 0 0 0 0 25.4l287.4 225.8c10.7 8.4 26.4.8 26.4-12.7V286.2c0-13.5-15.7-21.1-26.4-12.7zm-620-25.5h-51.2c-3.5 0-6.4 2.7-6.4 6v516c0 3.3 2.9 6 6.4 6h51.2c3.5 0 6.4-2.7 6.4-6V254c0-3.3-2.9-6-6.4-6z"}}]})(t)},V=l.GenIcon,F=function(t){return V({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M793.8 499.3L506.4 273.5c-10.7-8.4-26.4-.8-26.4 12.7v451.6c0 13.5 15.7 21.1 26.4 12.7l287.4-225.8a16.14 16.14 0 0 0 0-25.4zm-320 0L186.4 273.5c-10.7-8.4-26.4-.8-26.4 12.7v451.5c0 13.5 15.7 21.1 26.4 12.7l287.4-225.8c4.1-3.2 6.2-8 6.2-12.7 0-4.6-2.1-9.4-6.2-12.6zM857.6 248h-51.2c-3.5 0-6.4 2.7-6.4 6v516c0 3.3 2.9 6 6.4 6h51.2c3.5 0 6.4-2.7 6.4-6V254c0-3.3-2.9-6-6.4-6z"}}]})(t)},$=l.GenIcon,G=function(t){return $({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm144.1 454.9L437.7 677.8a8.02 8.02 0 0 1-12.7-6.5V353.7a8 8 0 0 1 12.7-6.5L656.1 506a7.9 7.9 0 0 1 0 12.9z"}}]})(t)},Q=l.GenIcon,Z=function(t){return Q({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-80 600c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304zm224 0c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304z"}}]})(t)},q=l.GenIcon,J=function(t){return q({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12,16c1.671,0,3-1.331,3-3s-1.329-3-3-3s-3,1.331-3,3S10.329,16,12,16z"}},{tag:"path",attr:{d:"M20.817,11.186c-0.12-0.583-0.297-1.151-0.525-1.688c-0.225-0.532-0.504-1.046-0.83-1.531 c-0.324-0.479-0.693-0.926-1.098-1.329c-0.404-0.406-0.853-0.776-1.332-1.101c-0.483-0.326-0.998-0.604-1.528-0.829 c-0.538-0.229-1.106-0.405-1.691-0.526c-0.6-0.123-1.219-0.182-1.838-0.18V2L8,5l3.975,3V6.002C12.459,6,12.943,6.046,13.41,6.142 c0.454,0.094,0.896,0.231,1.314,0.409c0.413,0.174,0.813,0.392,1.188,0.644c0.373,0.252,0.722,0.54,1.038,0.857 c0.315,0.314,0.604,0.663,0.854,1.035c0.254,0.376,0.471,0.776,0.646,1.191c0.178,0.417,0.314,0.859,0.408,1.311 C18.952,12.048,19,12.523,19,13s-0.048,0.952-0.142,1.41c-0.094,0.454-0.23,0.896-0.408,1.315 c-0.175,0.413-0.392,0.813-0.644,1.188c-0.253,0.373-0.542,0.722-0.858,1.039c-0.315,0.316-0.663,0.603-1.036,0.854 c-0.372,0.251-0.771,0.468-1.189,0.645c-0.417,0.177-0.858,0.314-1.311,0.408c-0.92,0.188-1.906,0.188-2.822,0 c-0.454-0.094-0.896-0.231-1.314-0.409c-0.416-0.176-0.815-0.393-1.189-0.645c-0.371-0.25-0.719-0.538-1.035-0.854 c-0.315-0.316-0.604-0.665-0.855-1.036c-0.254-0.376-0.471-0.776-0.646-1.19c-0.178-0.418-0.314-0.86-0.408-1.312 C5.048,13.952,5,13.477,5,13H3c0,0.611,0.062,1.221,0.183,1.814c0.12,0.582,0.297,1.15,0.525,1.689 c0.225,0.532,0.504,1.046,0.831,1.531c0.323,0.477,0.692,0.924,1.097,1.329c0.406,0.407,0.854,0.777,1.331,1.099 c0.479,0.325,0.994,0.604,1.529,0.83c0.538,0.229,1.106,0.405,1.691,0.526C10.779,21.938,11.389,22,12,22s1.221-0.062,1.814-0.183 c0.583-0.121,1.151-0.297,1.688-0.525c0.537-0.227,1.052-0.506,1.53-0.83c0.478-0.322,0.926-0.692,1.331-1.099 c0.405-0.405,0.774-0.853,1.1-1.332c0.325-0.483,0.604-0.998,0.829-1.528c0.229-0.54,0.405-1.108,0.525-1.692 C20.938,14.221,21,13.611,21,13S20.938,11.779,20.817,11.186z"}}]})(t)},Y="styles-module_container__2RHmB",K="styles-module_minimized__qd4bl",X="styles-module_notMinimized__vhRsj",tt="styles-module_button__l6T6c",et="styles-module_loading__-h2hU",nt="styles-module_notLoading__GJ8Ir",st="styles-module_reset__hvUvm",it="styles-module_controlsContainer__nBn7j",ot="styles-module_sliderContainer__1XPS-",rt="styles-module_volumeContainer__UORe9",at="styles-module_pitchContainer__cBB1f";x(".styles-module_container__2RHmB {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: relative;\n\tz-index: 1;\n\tmargin: 10px 0px 0px 0px;\n}\n\n.styles-module_minimized__qd4bl {\n\tborder-bottom: 1px;\n\tpadding: 2px 0px 2px 0px;\n}\n\n.styles-module_notMinimized__vhRsj {\n\tpadding-top: 2px;\n}\n\n.styles-module_button__l6T6c {\n\tborder-radius: 50%;\n\tmargin: 2px;\n\tbackground-color: var(--bgColor);\n\tcolor: var(--primaryColor);\n\tfont-weight: normal !important;\n\tcursor: pointer;\n\tborder: 4px solid var(--secondaryColor);\n\ttransition: all 0.2s;\n\tfont-size: 1.5em;\n}\n\n.styles-module_button__l6T6c:hover {\n\tborder: 3px solid var(--primaryColor);\n\tcolor: var(--secondaryColor);\n}\n\n.styles-module_loading__-h2hU {\n\tpointer-events: none;\n}\n\n.styles-module_notLoading__GJ8Ir {\n\tpointer-events: all;\n}\n\n.styles-module_reset__hvUvm {\n\tposition: absolute;\n\ttop: 12px;\n\tright: 0px;\n\tfont-weight: bold;\n\tcursor: pointer;\n\ttransition: 0.2s ease-in;\n\tfont-size: 0.9em;\n\tcolor: var(--primaryColor);\n}\n\n.styles-module_reset__hvUvm:hover {\n\tcolor: var(--secondaryColor);\n}\n\n.styles-module_controlsContainer__nBn7j {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n}\n\n.styles-module_sliderContainer__1XPS- {\n\tposition: absolute;\n\ttop: 5px;\n\tleft: 2px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 70px;\n}\n\n.styles-module_volumeContainer__UORe9 {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 20px;\n}\n\n.styles-module_pitchContainer__cBB1f {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 20px;\n}\n");var lt=l.GenIcon,ct=function(t){return lt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16,21c3.527-1.547,5.999-4.909,5.999-9S19.527,4.547,16,3v2c2.387,1.386,3.999,4.047,3.999,7S18.387,17.614,16,19V21z"}},{tag:"path",attr:{d:"M16 7v10c1.225-1.1 2-3.229 2-5S17.225 8.1 16 7zM4 17h2.697l5.748 3.832C12.612 20.943 12.806 21 13 21c.162 0 .324-.039.472-.118C13.797 20.708 14 20.369 14 20V4c0-.369-.203-.708-.528-.882-.324-.175-.72-.154-1.026.05L6.697 7H4C2.897 7 2 7.897 2 9v6C2 16.103 2.897 17 4 17zM4 9h3c.033 0 .061-.016.093-.019.064-.006.125-.02.188-.038.068-.021.131-.045.192-.078.026-.015.057-.017.082-.033L12 5.868v12.264l-4.445-2.964c-.025-.017-.056-.02-.082-.033-.061-.033-.123-.058-.19-.078-.064-.019-.126-.032-.192-.038C7.059 15.016 7.032 15 7 15H4V9z"}}]})(t)},ht=l.GenIcon,dt=function(t){return ht({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M9 3v10H8V3h1z",clipRule:"evenodd"}},{tag:"path",attr:{d:"M8 2.82a1 1 0 01.804-.98l3-.6A1 1 0 0113 2.22V4L8 5V2.82z"}}]})(t)},ut="styles-module_container__rkaUB",pt="styles-module_slider__Lf7kP",mt="styles-module_icon__b92n5";x(".styles-module_container__rkaUB {\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n}\n\n.styles-module_container__rkaUB input {\n\twidth: 100%;\n}\n\n.styles-module_container__rkaUB label {\n\tposition: absolute;\n\ttop: 0;\n\tfont-size: 0.7rem;\n\tright: 0%;\n}\n\n.styles-module_container__rkaUB label.styles-module_value__eh3ZO {\n\ttop: -1rem;\n\tcolor: var(--color-extra1);\n}\n\n.styles-module_slider__Lf7kP {\n\twidth: 100%;\n\tappearance: none;\n\theight: 2px;\n\tbackground: var(--primaryColor);\n\toutline: none;\n\topacity: 0.7;\n\ttransition: opacity 0.2s;\n}\n\n.styles-module_slider__Lf7kP:hover {\n\topacity: 1;\n}\n\n.styles-module_slider__Lf7kP::-webkit-slider-thumb {\n\tappearance: none;\n\twidth: 10px; /* Set a specific slider handle width */\n\theight: 10px; /* Slider handle height */\n\tbackground: var(--bgColor);\n\tcursor: pointer; /* Cursor on hover */\n\tborder: 2px solid var(--primaryColor);\n\tborder-radius: 50%;\n\tz-index: 1;\n\tbox-shadow: 0 2px 5px var(--secondaryColor);\n\ttransition: transform 0.1s ease-out;\n}\n.styles-module_slider__Lf7kP::-moz-range-thumb {\n\tappearance: none;\n\twidth: 10px; /* Set a specific slider handle width */\n\theight: 10px; /* Slider handle height */\n\tbackground: var(--bgColor);\n\tcursor: pointer; /* Cursor on hover */\n\tborder: 2px solid var(--primaryColor);\n\tborder-radius: 50%;\n\tz-index: 1;\n\tbox-shadow: 0 2px 5px var(--secondaryColor);\n\ttransition: transform 0.4s ease-out;\n}\n\n.styles-module_slider__Lf7kP::-webkit-slider-thumb:hover {\n\ttransform: scale(1.1);\n\tbox-shadow: 0 2px 10px var(--bgColor);\n}\n\n::-moz-range-thumb:hover {\n\ttransform: scale(1.1);\n\tbox-shadow: 0 2px 10px var(--bgColor);\n}\n\n.styles-module_slider__Lf7kP::-webkit-slider-thumb:active {\n}\n\n::-moz-range-thumb:active {\n}\n\n.styles-module_icon__b92n5 {\n\tfont-size: 0.8rem;\n\t/* margin-right: 3px; */\n}\n\n.styles-module_icon__b92n5 * {\n\tstroke: var(--primaryColor);\n\tcolor: var(--primaryColor);\n}\n");const gt=e=>{var{data:n,onChange:s,icon:i}=e,o=E(e,["data","onChange","icon"]);const r=S.debounce(s,5);return t.createElement("div",Object.assign({className:ut},o),i&&t.createElement("div",{className:mt},i),t.createElement("input",{className:pt,min:n.min,max:n.max,step:n.step,type:"range",value:n.value,onChange:t=>{const e=+t.target.value;r(e)}}))},vt=()=>{const{reader:e}=j(),{state:n}=W(),{state:{isReading:s,isLoading:i},UIState:{isMinimized:o},settings:{volume:r,pitch:a}}=n;return t.createElement("div",{className:`${Y} ${o?K:X}`},!o&&t.createElement("div",{className:ot},t.createElement("div",{className:rt},t.createElement(gt,{title:"Volume",icon:t.createElement(ct,null),onChange:t=>{e&&(e.settings.volume=t)},data:{min:"0.1",max:"1",step:"0.1",value:r,unit:"x"}})),t.createElement("div",{className:at}," ",t.createElement(gt,{title:"Pitch",icon:t.createElement(dt,null),onChange:t=>{e&&(e.settings.pitch=t)},data:{min:"0.1",max:"2",step:"0.1",value:a,unit:"x"}}))),t.createElement("div",{className:it},t.createElement(H,{className:`${tt} ${i?et:nt}`,title:"Fast backward",onDoubleClick:t=>t.preventDefault(),onPointerDown:()=>{e&&((null==e?void 0:e.options.isChunksModeOn)?e.state.currentChunkIndex-1>=0&&e.seekTo(e.state.chunksArray[e.state.currentChunkIndex-1].start):e.state.currentWordIndex-1>=0&&e.seekTo(e.state.currentWordIndex-1))}}),s?t.createElement(Z,{style:{fontSize:"2em"},className:`${tt} ${i?et:nt}`,title:"Pause",onPointerDown:()=>{null==e||e.pause()}}):t.createElement(G,{style:{fontSize:"2em"},className:`${tt} ${i?et:nt}`,title:"Play",onPointerDown:()=>{(null==e?void 0:e.isPaused())?null==e||e.resume():null==e||e.play()}}),t.createElement(F,{title:"Fast forward",className:`${tt} ${i?et:nt}`,onPointerDown:()=>{e&&((null==e?void 0:e.options.isChunksModeOn)?e.state.currentChunkIndex+1<e.state.chunksArray.length&&e.seekTo(e.state.chunksArray[e.state.currentChunkIndex+1].start):e.state.currentWordIndex+1<=e.state.wholeTextArray.length&&e.seekTo(e.state.currentWordIndex+1))}})),t.createElement(J,{className:st,title:"reset",onPointerDown:()=>{null==e||e.reset()}}))};var xt=l.GenIcon,_t=function(t){return xt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}}]})(t)},yt=l.GenIcon,ft=function(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}}]})(t)},bt=l.GenIcon,Ct=function(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)},wt="styles-module_container__i2xy1",Et="styles-module_button__9sOag",kt="styles-module_hideButton__ysi6M",Tt="styles-module_minimizeButton__wcU-y",It="styles-module_darkModeButton__sdB-D";x(".styles-module_container__i2xy1 {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: relative;\n\theight: 30px;\n\twidth: 100%;\n}\n\n.styles-module_button__9sOag {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tz-index: 100;\n\tfont-size: 1em !important;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 2px solid var(--primaryColor);\n\tbackground-color: var(--bgColor);\n\tcolor: var(--textColor);\n\tfont-weight: bold !important;\n\tcursor: pointer;\n\ttransition: all 0.1s linear;\n}\n\n.styles-module_button__9sOag:hover {\n\tbackground-color: var(--bgColor);\n\tcolor: var(--secondaryColor);\n\ttransform: scale(1.05);\n}\n\n@keyframes styles-module_movingArrow__FUSwM {\n\t0% {\n\t\tleft: -1px;\n\t}\n\n\t25% {\n\t\tleft: -2px;\n\t}\n\n\t50% {\n\t\tleft: -1px;\n\t}\n\n\t75% {\n\t\tleft: 0px;\n\t}\n\n\t100% {\n\t\tleft: -1px;\n\t}\n}\n\n.styles-module_hideButton__ysi6M {\n\tposition: absolute;\n\ttop: 2px;\n\tright: -11px;\n}\n\n.styles-module_minimizeButton__wcU-y {\n\tposition: absolute;\n\ttop: 2px;\n\tright: 11px;\n}\n\n.styles-module_darkModeButton__sdB-D {\n\tposition: absolute;\n\ttop: 2px;\n\tleft: -11px;\n}\n");var St=l.GenIcon,Ot=function(t){return St({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.5 8a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M8.202.28a.25.25 0 00-.404 0l-.91 1.255a.25.25 0 01-.334.067L5.232.79a.25.25 0 00-.374.155l-.36 1.508a.25.25 0 01-.282.19l-1.532-.245a.25.25 0 00-.286.286l.244 1.532a.25.25 0 01-.189.282l-1.509.36a.25.25 0 00-.154.374l.812 1.322a.25.25 0 01-.067.333l-1.256.91a.25.25 0 000 .405l1.256.91a.25.25 0 01.067.334L.79 10.768a.25.25 0 00.154.374l1.51.36a.25.25 0 01.188.282l-.244 1.532a.25.25 0 00.286.286l1.532-.244a.25.25 0 01.282.189l.36 1.508a.25.25 0 00.374.155l1.322-.812a.25.25 0 01.333.067l.91 1.256a.25.25 0 00.405 0l.91-1.256a.25.25 0 01.334-.067l1.322.812a.25.25 0 00.374-.155l.36-1.508a.25.25 0 01.282-.19l1.532.245a.25.25 0 00.286-.286l-.244-1.532a.25.25 0 01.189-.282l1.508-.36a.25.25 0 00.155-.374l-.812-1.322a.25.25 0 01.067-.333l1.256-.91a.25.25 0 000-.405l-1.256-.91a.25.25 0 01-.067-.334l.812-1.322a.25.25 0 00-.155-.374l-1.508-.36a.25.25 0 01-.19-.282l.245-1.532a.25.25 0 00-.286-.286l-1.532.244a.25.25 0 01-.282-.189l-.36-1.508a.25.25 0 00-.374-.155l-1.322.812a.25.25 0 01-.333-.067L8.203.28zM8 2.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z",clipRule:"evenodd"}}]})(t)},zt=l.GenIcon,Mt=function(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.53 10.53a7 7 0 01-9.058-9.058A7.003 7.003 0 008 15a7.002 7.002 0 006.53-4.47z",clipRule:"evenodd"}}]})(t)};const Rt=()=>{const{state:{UIState:{isMinimized:e,isDark:n}},dispatch:s}=W();return t.createElement("div",{className:wt},t.createElement("div",{title:(n?"Light":"Dark")+" Mode",className:`${Et} ${It}`,onPointerDown:t=>{t.stopPropagation(),s(u({isDark:!n}))},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation()}},n?t.createElement(Ot,null):t.createElement(Mt,null)),t.createElement("div",{title:"Hide",className:`${Et} ${kt}`,onPointerDown:t=>{t.stopPropagation(),s(u({isVisible:!1}))},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation()}},t.createElement(Ct,null)),t.createElement("div",{title:e?"Maximize":"Minimize",className:`${Et} ${Tt}`,onPointerDown:t=>{t.stopPropagation(),s(u({isMinimized:!e}))},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation()}},e?t.createElement(_t,null):t.createElement(ft,null)))};var Pt="styles-module_container__0pmKL",Wt="styles-module_minimized__YNN-c",jt="styles-module_seekbar__vpQeo",Ut="styles-module_time__HfKnv";x(".styles-module_container__0pmKL {\n\twidth: 100%;\n\ttext-align: center;\n\tposition: relative;\n\tz-index: 2;\n\t/* margin: 25x 0px 5px 0px; */\n}\n\n.styles-module_minimized__YNN-c {\n\twidth: 90%;\n\t/* margin: 30px 0px 10px 0px; */\n}\n\n.styles-module_seekbar__vpQeo {\n\twidth: 100%;\n\tappearance: none;\n\theight: 2px;\n\tbackground: var(--primaryColor);\n\toutline: none;\n\topacity: 0.7;\n\ttransition: opacity 0.2s;\n\tpadding: 0 !important;\n}\n\n.styles-module_seekbar__vpQeo::-webkit-slider-thumb {\n\tappearance: none;\n\twidth: 14px; /* Set a specific slider handle width */\n\theight: 14px; /* Slider handle height */\n\tbackground: var(--bgColor);\n\tcursor: grab; /* Cursor on hover */\n\tborder: 2px solid var(--primaryColor);\n\tborder-radius: 50%;\n\tz-index: 1;\n\tbox-shadow: 0 2px 5px var(--secondaryColor);\n\ttransition: transform 0.1s ease-out;\n}\n.styles-module_seekbar__vpQeo::-moz-range-thumb {\n\tappearance: none;\n\twidth: 14px; /* Set a specific slider handle width */\n\theight: 14px; /* Slider handle height */\n\tbackground: var(--bgColor);\n\tcursor: pointer; /* Cursor on hover */\n\tborder: 2px solid var(--primaryColor);\n\tborder-radius: 50%;\n\tz-index: 1;\n\tbox-shadow: 0 2px 5px var(--secondaryColor);\n\ttransition: transform 0.4s ease-out;\n}\n\n.styles-module_seekbar__vpQeo::-webkit-slider-thumb:hover {\n\ttransform: scale(1.1);\n\tbox-shadow: 0 2px 10px var(--bgColor);\n}\n\n.styles-module_seekbar__vpQeo::-webkit-slider-thumb:active {\n\tcursor: grabbing;\n}\n\n.styles-module_time__HfKnv {\n\twidth: 50px;\n\tfont-size: 0.7em !important;\n\tfont-weight: normal !important;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\ttop: 20px;\n\tleft: -15px;\n\tz-index: 100 !important;\n\tcolor: var(--textColor);\n\tmargin: 0 !important;\n\tline-height: normal;\n}\n");const Lt=()=>{const{reader:e}=j(),{state:n}=W(),{state:{elapsedTime:s,numberOfWords:i,currentWordIndex:o,duration:r},UIState:{isMinimized:a}}=n,l=S.debounce((null==e?void 0:e.seekTo.bind(e))||Function,3);return t.createElement("div",{className:`${Pt} ${a&&Wt}`},t.createElement("h5",{className:Ut},S.formatMsToTime(s)),t.createElement("input",{className:jt,type:"range",min:"0",max:i-1,step:"1",value:o,onChange:t=>{if(!e)return;const n=+t.target.value;l(n)}}),t.createElement("h5",{style:{left:"auto",right:"-15px"},className:Ut},S.formatMsToTime(r),"*"))},Bt=(e,n)=>{t.useEffect((()=>{const t=t=>{e.current&&!e.current.contains(null==t?void 0:t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),document.addEventListener("pointerDown",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t),document.removeEventListener("pointerDown",t)}}),[e,n])};var Nt="styles-module_container__dB4nt",At="styles-module_optionsContainer__miH3Q",Dt="styles-module_optionsWrapper__JBONI",Ht="styles-module_visible__eJpaP",Vt="styles-module_extraComponentWrapper__3xRJY";x(".styles-module_container__dB4nt {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: auto;\n\theight: 100%;\n}\n\n.styles-module_optionsContainer__miH3Q {\n\tposition: absolute;\n\topacity: 0;\n\tpointer-events: none;\n\twidth: 100%;\n\theight: 40px;\n\tbottom: 0px;\n\tright: 0;\n\tbackground-color: var(--bgColor);\n\tcolor: var(--primaryColor);\n\tz-index: 100;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.styles-module_optionsWrapper__JBONI {\n\theight: 100%;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n\toverflow-y: auto;\n}\n\n.styles-module_optionsContainer__miH3Q i {\n\tmargin: 3px;\n}\n\n.styles-module_visible__eJpaP {\n\topacity: 1;\n\tpointer-events: all;\n}\n\n.styles-module_extraComponentWrapper__3xRJY {\n\tpadding: 0px 5px 0px 10px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\talign-items: center;\n}\n");const Ft=e=>{var{options:n,value:s,title:i,onChange:o,Icon:r,ExtraComponent:a}=e,l=E(e,["options","value","title","onChange","Icon","ExtraComponent"]);const c=t.useMemo((()=>n.find((t=>t.value===s))),[n,s]),[h,d]=t.useState(!1),[u,p]=t.useState(c),m=t.useRef(null),g=t.useCallback((()=>{d(!0)}),[]),v=t.useCallback((()=>{d(!1)}),[]);return Bt(m,v),t.createElement("div",Object.assign({className:Nt},l,{ref:m}),t.createElement(r,{onPointerDown:t=>{t.stopPropagation(),g()},option:c}),t.createElement("div",{className:`${At} ${h&&Ht}`},t.createElement("div",{className:Dt},n.map((e=>t.createElement(r,{key:e.value,onPointerDown:t=>{var n;t.stopPropagation(),n=e.value,o(n),v()},onMouseEnter:()=>(t=>{p(t)})(e),option:e})))),a&&t.createElement("div",{className:Vt},t.createElement(a,{option:u}))))};var $t="styles-module_container__69qRW",Gt="styles-module_optionsWrapper1__OJ-aO",Qt="styles-module_optionsWrapper2__5V17-";x(".styles-module_container__69qRW {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 100%;\n\theight: 50px;\n}\n\n.styles-module_optionsWrapper1__OJ-aO {\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: flex-end;\n}\n.styles-module_optionsWrapper2__5V17- {\n\twidth: 200px;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n}\n");var Zt="styles-module_container__bAbpe",qt="styles-module_icon__J4xQk",Jt="styles-module_overlayContainer__iWVEa",Yt="styles-module_visible__Ci-XW";x(".styles-module_container__bAbpe {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: auto;\n}\n\n.styles-module_icon__J4xQk {\n\tfont-size: 1.1em;\n\tpadding: 0px;\n\tcursor: pointer;\n\ttransition: all 0.4s ease-out;\n}\n\n.styles-module_icon__J4xQk path {\n\tfill: var(--primaryColor);\n}\n.styles-module_icon__J4xQk:hover path {\n\tfill: var(--secondaryColor);\n}\n\n.styles-module_overlayContainer__iWVEa {\n\topacity: 0;\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 40px;\n\tbottom: 0px;\n\tright: 0px;\n\tbackground-color: var(--bgColor);\n\tcolor: var(--primaryColor);\n\tz-index: 100;\n\tdisplay: flex;\n\tjustify-content: start;\n\talign-items: start;\n\tflex-wrap: wrap;\n\ttransition: all 0.2s linear;\n\tpadding: 0px 0px 0px 10px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n}\n\n.styles-module_overlayContainer__iWVEa label {\n\tpadding: 0px;\n\tmargin: 0px;\n\tdisplay: flex;\n\twidth: 33%;\n}\n\n.styles-module_overlayContainer__iWVEa input {\n\tcursor: pointer;\n}\n\n.styles-module_overlayContainer__iWVEa h5 {\n\tpadding: 0px;\n\tmargin: 0px;\n\tfont-size: 0.6em;\n\tmargin-left: 1px;\n\tfont-weight: normal !important;\n\tline-height: 20px !important;\n}\n\n.styles-module_visible__Ci-XW {\n\topacity: 1;\n\tpointer-events: all;\n}\n");var Kt=l.GenIcon,Xt=function(t){return Kt({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#607D8B",d:"M39.6,27.2c0.1-0.7,0.2-1.4,0.2-2.2s-0.1-1.5-0.2-2.2l4.5-3.2c0.4-0.3,0.6-0.9,0.3-1.4L40,10.8 c-0.3-0.5-0.8-0.7-1.3-0.4l-5,2.3c-1.2-0.9-2.4-1.6-3.8-2.2l-0.5-5.5c-0.1-0.5-0.5-0.9-1-0.9h-8.6c-0.5,0-1,0.4-1,0.9l-0.5,5.5 c-1.4,0.6-2.7,1.3-3.8,2.2l-5-2.3c-0.5-0.2-1.1,0-1.3,0.4l-4.3,7.4c-0.3,0.5-0.1,1.1,0.3,1.4l4.5,3.2c-0.1,0.7-0.2,1.4-0.2,2.2 s0.1,1.5,0.2,2.2L4,30.4c-0.4,0.3-0.6,0.9-0.3,1.4L8,39.2c0.3,0.5,0.8,0.7,1.3,0.4l5-2.3c1.2,0.9,2.4,1.6,3.8,2.2l0.5,5.5 c0.1,0.5,0.5,0.9,1,0.9h8.6c0.5,0,1-0.4,1-0.9l0.5-5.5c1.4-0.6,2.7-1.3,3.8-2.2l5,2.3c0.5,0.2,1.1,0,1.3-0.4l4.3-7.4 c0.3-0.5,0.1-1.1-0.3-1.4L39.6,27.2z M24,35c-5.5,0-10-4.5-10-10c0-5.5,4.5-10,10-10c5.5,0,10,4.5,10,10C34,30.5,29.5,35,24,35z"}},{tag:"path",attr:{fill:"#455A64",d:"M24,13c-6.6,0-12,5.4-12,12c0,6.6,5.4,12,12,12s12-5.4,12-12C36,18.4,30.6,13,24,13z M24,30 c-2.8,0-5-2.2-5-5c0-2.8,2.2-5,5-5s5,2.2,5,5C29,27.8,26.8,30,24,30z"}}]})(t)};const te=()=>{const[e,n]=t.useState(!1),s=t.useRef(null),i=()=>{n(!1)},o=(()=>{const{reader:e}=j(),{state:n}=W(),{options:{isChunksModeOn:s,isHighlightTextOn:i,isPreserveHighlighting:o,isUnderlinedOn:r,isBrushOn:a}}=n;return t.useMemo((()=>[{id:"highlight-option",label:"Highlight",value:i,handler:t=>{if(!e)return;const n=t.target;e.options.isHighlightTextOn=n.checked}},{id:"preserve-option",label:"Preserve",value:o,handler:t=>{if(!e)return;const n=t.target;e.options.isPreserveHighlighting=n.checked}},{id:"chunksmode-option",label:"Chunks",value:s,handler:t=>{if((null==e?void 0:e.deviceInfo.isMobile)||!e)return;const n=t.target;e.options.isChunksModeOn=n.checked}},{id:"underlined-option",label:"Underline",value:r,handler:t=>{if(!e)return;const n=t.target;e.options.isUnderlinedOn=n.checked}},{id:"brush-option",label:"Brush",value:a,handler:t=>{if(!e)return;const n=t.target;e.options.isBrushOn=n.checked}}]),[a,s,i,o,r,e])})();return Bt(s,i),t.createElement("div",{className:Zt,ref:s},t.createElement(Xt,{className:qt,onPointerDown:()=>{n(!0)}}),t.createElement("div",{className:`${Jt} ${e&&Yt}`,onPointerDown:i},o.map((e=>t.createElement("label",{key:e.id,htmlFor:e.id,onPointerDown:t=>t.stopPropagation()},t.createElement("input",{id:e.id,type:"checkbox",checked:e.value,onChange:e.handler}),t.createElement("h5",null,e.label))))))};var ee="styles-module_icon__Z2LW9";x(".styles-module_icon__Z2LW9 {\n\tdisplay: inline-block;\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 0px 5px 0px 5px;\n\tcursor: pointer;\n\t/* border: 2px solid #111; */\n\tborder-radius: 4px;\n\ttransition: all 0.1s ease-in;\n\tbox-shadow: 0px 0px 2px 1px var(--primaryColor);\n}\n\n.styles-module_icon__Z2LW9:hover {\n\ttransform: scale(1.05);\n}\n");const ne=e=>{var{children:n,option:s}=e,i=E(e,["children","option"]);return s&&t.createElement("span",Object.assign({className:ee,style:{backgroundColor:s.value}},i),n)};var se="styles-module_container__dGcW-";x(".styles-module_container__dGcW- {\n\tposition: relative;\n\tfont-size: 0.7em;\n\tfont-weight: bold;\n\tcolor: var(--primaryColor);\n\tcursor: pointer;\n\ttransition: all 0.5s linear;\n\tborder: none;\n\tbackground: none;\n\tpadding: 1px 6px !important;\n\tline-height: normal !important;\n\twhite-space: nowrap;\n}\n\n.styles-module_container__dGcW-:hover {\n\tcolor: var(--secondaryColor);\n}\n.styles-module_container__dGcW-::after {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 0;\n\tbottom: -2px;\n\twidth: 0px;\n\theight: 1.2px;\n\tbackground-color: var(--primaryColor);\n\ttransition: all 0.2s ease-in;\n}\n.styles-module_container__dGcW-:hover::after {\n\twidth: 100%;\n}\n");const ie=e=>{var{children:n,option:s}=e,i=E(e,["children","option"]);return s&&t.createElement("div",Object.assign({className:se},i),s.name,n)};var oe="styles-module_container__k5Fas",re="styles-module_label__9Eq-Q";x(".styles-module_container__k5Fas {\n\tposition: relative;\n\twidth: 35px;\n\theight: 35px;\n\toverflow: hidden;\n\tborder-radius: 5px;\n\ttransition: all 0.2s ease-in-out;\n\tbox-shadow: 0px 0px 2px 1px var(--primaryColor);\n}\n\n.styles-module_label__9Eq-Q {\n\twidth: 35px;\n\ttext-align: center;\n\tposition: absolute;\n\ttop: 10px;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-size: 8px;\n\tmargin: 0;\n\tpadding: 0;\n\tcolor: #fff;\n\ttext-overflow: ellipsis;\n\tmix-blend-mode: exclusion;\n\toverflow: hidden;\n\twhite-space: pre-wrap;\n\tfont-weight: normal;\n}\n\n.styles-module_ascii__iK7ja {\n\tposition: absolute;\n\tbottom: 2px;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-size: 6px;\n\tmargin: 0;\n\tpadding: 0;\n\tcolor: #fff;\n\tmix-blend-mode: difference;\n}\n");const ae=({option:e})=>t.createElement("div",{className:oe,style:{backgroundColor:e.value}},t.createElement("h5",{className:re},e.name));var le="styles-module_icon__zepm5",ce="styles-module_label__y4R48";x(".styles-module_icon__zepm5 {\n\tposition: relative;\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 0px 5px 0px 5px;\n\tcursor: pointer;\n\tborder-radius: 2px;\n\tpadding: 2px;\n\ttransition: all 0.1s ease-in;\n\tbox-shadow: 0px 0px 2px 1px var(--primaryColor);\n\tbackground-size: cover;\n\n}\n\n.styles-module_icon__zepm5:hover {\n\ttransform: scale(1.05);\n}\n\n.styles-module_label__y4R48 {\n\tposition: absolute;\n\tbottom: 0px;\n\tright: 2px;\n\tcolor: var(--bgColor);\n\t/* mix-blend-mode: exclusion; */\n\tfont-size: 8px;\n}\n");const he=e=>{var{children:n,option:s}=e,i=E(e,["children","option"]);const{state:o}=W(),{color1:r}=o.highlightStyle,a=S.getBrushURL(s.value,r);return s&&t.createElement("div",Object.assign({className:le,style:{backgroundImage:a.css}},i),t.createElement("h5",{className:ce},s.name),n)};var de="styles-module_container__UeFFK";x(".styles-module_container__UeFFK {\n\tposition: relative;\n\twidth: 60px;\n\theight: 28px;\n\toverflow: hidden;\n\tborder-radius: 5px;\n\ttransition: all 0.2s ease-in-out;\n\tbox-shadow: 0px 0px 2px 1px var(--primaryColor);\n\tbackground-size: cover;\n}\n\n.styles-module_label__e3y03 {\n\twidth: 35px;\n\ttext-align: center;\n\tposition: absolute;\n\ttop: 10px;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-size: 8px;\n\tmargin: 0;\n\tpadding: 0;\n\tcolor: #fff;\n\ttext-overflow: ellipsis;\n\tmix-blend-mode: exclusion;\n\toverflow: hidden;\n\twhite-space: pre-wrap;\n\tfont-weight: normal;\n}\n\n.styles-module_ascii__MLhac {\n\tposition: absolute;\n\tbottom: 2px;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-size: 6px;\n\tmargin: 0;\n\tpadding: 0;\n\tcolor: #fff;\n\tmix-blend-mode: difference;\n}\n");const ue=({option:e})=>{const{state:n}=W(),{color1:s}=n.highlightStyle,i=S.getBrushURL(e.value,s);return t.createElement("div",{className:de,style:{backgroundImage:i.css}})};var pe="styles-module_container__9-aGo",me="styles-module_icon__BWG4b",ge="styles-module_overlayContainer__-d-Ra",ve="styles-module_visible__js5U4",xe="styles-module_name__KgWLV",_e="styles-module_infoWrapper__ZLhGa",ye="styles-module_info__GKdTQ",fe="styles-module_buttonsContainer__4OlR2";x(".styles-module_container__9-aGo {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: auto;\n}\n\n.styles-module_icon__BWG4b {\n\tfont-size: 1.1em;\n\tpadding: 0px;\n\tcursor: pointer;\n\tmargin-right: 5px;\n\ttransition: all 0.4s ease-out;\n}\n\n.styles-module_icon__BWG4b path {\n\tfill: var(--primaryColor);\n}\n.styles-module_icon__BWG4b:hover path {\n\tfill: var(--secondaryColor);\n}\n\n.styles-module_overlayContainer__-d-Ra {\n\topacity: 0;\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tbottom: 0px;\n\tright: 0px;\n\tbackground-color: var(--bgColor);\n\tcolor: var(--primaryColor);\n\tz-index: 2;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\ttransition: all 0.2s linear;\n\tpadding: 25px 20px 5px 20px;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n}\n\n.styles-module_overlayContainer__-d-Ra label {\n\tpadding: 0px;\n\tmargin: 0px;\n\tdisplay: flex;\n\tfont-size: 0.9em;\n}\n\n.styles-module_overlayContainer__-d-Ra h5 {\n\tpadding: 0px;\n\tmargin: 0px;\n\tfont-size: 0.8em;\n\tmargin-left: 1px;\n\tfont-weight: normal !important;\n\tline-height: 20px !important;\n}\n\n.styles-module_overlayContainer__-d-Ra a {\n\tcolor: var(--secondaryColor);\n\ttext-decoration: none;\n}\n\n.styles-module_visible__js5U4 {\n\topacity: 1;\n\tpointer-events: all;\n}\n\n.styles-module_name__KgWLV {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-bottom: 10px;\n}\n\n.styles-module_name__KgWLV i {\n\tmargin-right: 10px;\n}\n\n.styles-module_infoWrapper__ZLhGa {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: flex-start;\n\toverflow: hidden;\n}\n\n.styles-module_info__GKdTQ {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tflex-wrap: wrap;\n}\n\n.styles-module_info__GKdTQ a {\n\tmargin-left: 5px;\n}\n\n.styles-module_buttonsContainer__4OlR2 {\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n.styles-module_buttonsContainer__4OlR2 a {\n\tfont-size: 1.3em;\n\ttransition: all 0.1s linear;\n}\n\n.styles-module_buttonsContainer__4OlR2 a:hover {\n\tfont-size: 1.3em;\n\ttransform: scale(1.1);\n}\n");var be=l.GenIcon,Ce=function(t){return be({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7 4.75c0-0.412 0.338-0.75 0.75-0.75h0.5c0.412 0 0.75 0.338 0.75 0.75v0.5c0 0.412-0.338 0.75-0.75 0.75h-0.5c-0.412 0-0.75-0.338-0.75-0.75v-0.5z"}},{tag:"path",attr:{d:"M10 12h-4v-1h1v-3h-1v-1h3v4h1z"}},{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"}}]})(t)},we=l.GenIcon,Ee=function(t){return we({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z"}}]})(t)},ke=l.GenIcon,Te=function(t){return ke({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"}}]})(t)},Ie=l.GenIcon,Se=function(t){return Ie({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.3 46.5H388.5c-48.1 0-89.9 33.3-100.4 80.3-10.6-47-52.3-80.3-100.4-80.3H48c-26.5 0-48 21.5-48 48v245.8c0 26.5 21.5 48 48 48h89.7c102.2 0 132.7 24.4 147.3 75 .7 2.8 5.2 2.8 6 0 14.7-50.6 45.2-75 147.3-75H528c26.5 0 48-21.5 48-48V94.6c0-26.4-21.3-47.9-47.7-48.1zM242 311.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5V289c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V251zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm259.3 121.7c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5V228c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.8c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V190z"}}]})(t)},Oe="react-text2speech",ze="https://github.com/Kais3rP/react-text2speech";const Me=()=>{const[e,n]=t.useState(!1),s=t.useRef(null),i=()=>{n(!1)};Bt(s,i);const[o,r]="Cesare Polonara - https://www.cesarepolonara.com".split(" - ");return t.createElement("div",{className:pe,ref:s},t.createElement(Ce,{className:me,onPointerDown:()=>{n(!0)}}),t.createElement("div",{className:`${ge} ${e&&ve}`,onPointerDown:i},t.createElement("div",{className:xe},t.createElement("i",null,"🗣️"),t.createElement("h4",null,Oe)),t.createElement("div",{className:_e},t.createElement("div",{className:ye},t.createElement("h5",null,"Author:",t.createElement("a",{href:r,target:"_blank",rel:"noreferrer",onPointerDown:t=>t.stopPropagation()},o)),t.createElement("h5",null,"Version: ","3.9.8"),t.createElement("h5",null,"License: ","MIT"," © ",Oe)),t.createElement("div",{className:fe},t.createElement("a",{href:ze,target:"_blank",rel:"noreferrer",onPointerDown:t=>t.stopPropagation()},t.createElement(Te,null)),t.createElement("a",{href:"https://www.npmjs.com/package/react-text2speech",target:"_blank",rel:"noreferrer",onPointerDown:t=>t.stopPropagation()},t.createElement(Ee,null)),t.createElement("a",{href:`${ze}#readme`,target:"_blank",rel:"noreferrer",onPointerDown:t=>t.stopPropagation()},t.createElement(Se,null))))))},Re=[{value:"0.5",name:"0.5x"},{value:"0.75",name:"0.75x"},{value:"1",name:"1x"},{value:"1.25",name:"1.25x"},{value:"1.5",name:"1.5x"},{value:"2",name:"2x"}],Pe=[{name:"Chocolate",value:"#C85A17"},{name:"Yellow",value:"#FFFF00"},{name:"Orange",value:"#FFA500"},{name:"Light Slate Blue",value:"#736AFF"},{name:"Ruby Red",value:"#F62217"},{name:"Bright Neon Pink",value:"#F433FF"},{name:"Desert Sand",value:"#EDC9AF"},{name:"Dark Goldenrod",value:"#AF7817"},{name:"Cotton Candy",value:"#FCDFFF"},{name:"Chartreuse",value:"#8AFB17"},{name:"White",value:"#FFFFFF"},{name:"Black",value:"#000000"}],We=[{name:"1",value:"brush-1"},{name:"2",value:"brush-2"},{name:"3",value:"brush-3"},{name:"4",value:"brush-4"},{name:"5",value:"brush-5"},{name:"6",value:"brush-6"},{name:"7",value:"brush-7"},{name:"8",value:"brush-8"},{name:"9",value:"brush-9"},{name:"10",value:"brush-10"}],je=[{name:"English",value:"en"},{name:"Italian",value:"it"},{name:"French",value:"fr"},{name:"Spanish",value:"es"},{name:"German",value:"de"},{name:"Chinese",value:"ch"}],Ue=()=>{const{reader:e}=j(),{state:n}=W(),{state:{voices:s},settings:{voiceURI:i,rate:o,language:r},highlightStyle:a}=n,l=t.useMemo((()=>{const t=[...Pe];for(const e of Object.entries(a))!Pe.find((t=>t.value===e[1]))&&/color/.test(e[0])&&t.push({name:e[1],value:e[1]});return t}),[a]),c=t.useMemo((()=>S.formatVoices(s)),[s]);return t.createElement("div",{className:$t},t.createElement("div",{className:Gt},t.createElement(Ft,{name:"rate",options:Re,onChange:t=>{e&&(e.settings.rate=+t)},value:o.toString(),defaultValue:"1",title:"Rate",Icon:ie}),t.createElement(Ft,{name:"language",options:je,onChange:t=>{e&&(e.settings.language=t)},value:r||"",defaultValue:"1",title:"Language",Icon:ie}),t.createElement(Ft,{name:"voice",options:c,onChange:t=>{e&&(e.settings.voiceURI=t)},value:i||"",defaultValue:"1",title:"Voice",Icon:ie}),t.createElement(Ft,{name:"palette",options:l,onChange:t=>{e&&(e.style.color1=t)},value:a.color1,defaultValue:"lavander",title:"Palette",Icon:ne,ExtraComponent:ae}),t.createElement(Ft,{name:"palette",options:l,onChange:t=>{e&&(e.style.color2=t)},value:a.color2,defaultValue:"lavander",title:"Palette",Icon:ne,ExtraComponent:ae}),t.createElement(Ft,{name:"brush-type",options:We,onChange:t=>{e&&(e.style.brush=t)},value:a.brush,defaultValue:"lavander",title:"Palette",Icon:he,ExtraComponent:ue})),t.createElement("div",{className:Qt},t.createElement(Me,null),t.createElement(te,null)))},Le=()=>{const{reader:e}=j(),{dispatch:n}=W();t.useEffect((()=>{var t;return null===(t=window.speechSynthesis)||void 0===t||t.cancel(),null==e||e.init().then((t=>{n(g(t.state)),n(p(t.settings)),n(m(t.options)),n(v(t.style))})).catch((t=>{var e;n((e={message:t.message,object:t},d("UPDATE_ERROR",e)))})),()=>{var t;return null===(t=window.speechSynthesis)||void 0===t?void 0:t.cancel()}}),[e])};var Be="styles-module_container__xkMLR",Ne="styles-module_visible__ZUiLT",Ae="styles-module_minimized__W5TJy";x(".styles-module_container__xkMLR {\n\topacity: 0;\n\twidth: min(100vw, 350px);\n\t/* height: 135px; */\n\tright: -350px;\n\tfont-size: 16px;\n\tposition: fixed;\n\tz-index: 1000;\n\tbottom: 2px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 5px;\n\tbox-shadow: 0px 0px 10px 2px #aaa;\n\tbackground-color: var(--bgColor);\n\tfont-family: Arial, sans-serif !important;\n\tbox-sizing: border-box;\n\ttransition: right 0.1s ease-out, width 0.05s linear, height 0.05s linear,\n\t\topacity 0.7s ease-out;\n\tpadding: 0px 15px;\n}\n\n.styles-module_container__xkMLR * {\n\tbox-sizing: border-box;\n}\n\n.styles-module_container__xkMLR h5,\n.styles-module_container__xkMLR h4,\n.styles-module_container__xkMLR h3,\n.styles-module_container__xkMLR h2,\n.styles-module_container__xkMLR h1 {\n\tmargin-block-end: auto;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n}\n\n.styles-module_visible__ZUiLT {\n\tright: 5px;\n\topacity: 1;\n}\n\n.styles-module_minimized__W5TJy {\n\twidth: 150px;\n\theight: 100px;\n}\n");var De="styles-module_overlay__h8b85",He="styles-module_error__-Bl5v";x(".styles-module_overlay__h8b85 {\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 3;\n\tbackground-color: rgba(242, 236, 236, 0.7);\n\tbackdrop-filter: blur(2px);\n\tfont-size: 0.7em;\n\tcolor: #000;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttext-align: center;\n\tpadding: 20px 5px 5px 5px;\n}\n\n.styles-module_error__-Bl5v {\n\t/* background-color: rgba(242, 236, 236, 1);\n\tpadding: 20px;\n\tbackdrop-filter: blur(10px); */\n\tfont-weight: 100;\n}\n");const Ve=({error:e})=>t.createElement("div",{className:De},t.createElement("h5",{className:He},e.message)),Fe=()=>{const{state:{UIState:{isMinimized:e,isVisible:n},error:s}}=W();return t.useEffect((()=>{setTimeout((()=>window.scrollTo({top:0,left:0,behavior:"smooth"})),0)}),[]),(()=>{const{state:{UIState:{isDark:e}}}=W(),{styleOptions:n}=U(),{lightTheme:s,darkTheme:i}=t.useMemo((()=>{let t={primaryColor:"",secondaryColor:"",bgColor:"",textColor:"",highlightColor1:"",highlightColor2:""},e={primaryColor:"",secondaryColor:"",bgColor:"",textColor:"",highlightColor1:"",highlightColor2:""};const s=Object.entries(n).reduce(((t,[e,n])=>"highlightColor1"===e||"highlightColor2"===e?Object.assign(Object.assign({},t),{[e]:n}):Object.assign(Object.assign({},t),{[e]:S.invertColor(n)})),{});return t=S.isDarkColor(n.bgColor)?s:Object.assign({},n),e=S.isDarkColor(n.bgColor)?Object.assign({},n):s,{lightTheme:t,darkTheme:e}}),[n]);t.useEffect((()=>{const t=e?i:s;for(const e of Object.entries(t))document.documentElement.style.setProperty(`--${e[0]}`,e[1])}),[e,i,s])})(),(()=>{const{dispatch:e}=W();t.useEffect((()=>{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;e(u({isDark:t}))}),[e])})(),(()=>{const{reader:e}=j(),{state:n,dispatch:s}=W(),{isMinimized:i,isVisible:o,isDark:r}=n.UIState,{isReading:a,isLoading:l,elapsedTime:c,duration:h}=n.state,{bindReader:d}=U(),p=t.useMemo((()=>({showReader:()=>{s(u({isVisible:!0}))},hideReader:()=>{s(u({isVisible:!1}))},minimizeReader:()=>{s(u({isMinimized:!0}))},maximizeReader:()=>{s(u({isMinimized:!1}))},play:()=>{(null==e?void 0:e.isPaused())?null==e||e.resume():null==e||e.play()},pause:()=>null==e?void 0:e.pause()})),[s,e]);t.useLayoutEffect((()=>{d&&"function"==typeof d&&d({isMinimized:i,isVisible:o,isReading:a,isLoading:l,elapsedTime:c,duration:h,isDark:r},p)}),[d,s,p,l,i,a,o,c,h,r])})(),Le(),t.createElement("div",{className:`${Be} ${n&&Ne} ${e&&Ae}`},s&&t.createElement(Ve,{error:s}),t.createElement(Rt,null),t.createElement(Lt,null),t.createElement(vt,null),!e&&t.createElement(Ue,null))},$e=()=>{const{state:{UIState:{isVisible:e}}}=W();return t.createElement(t.Fragment,null,!e&&t.createElement(A,null),t.createElement(Fe,null))},Ge=({options:e,styleOptions:n,textContainer:s,bindReader:i})=>t.createElement(L,{value:{options:e,styleOptions:n,textContainer:s,bindReader:i}},t.createElement(N,null,t.createElement(B,null,t.createElement($e,null))));Ge.defaultProps={options:{language:"en"},styleOptions:{primaryColor:"#00D",secondaryColor:"#55F",bgColor:"#FFF",textColor:"#222",highlightColor1:"#306EFF",highlightColor2:"#FCDFFF"}};exports.SpeechSynth=M,exports.default=Ge,exports.useTextReader=()=>{const[e,n]=t.useState({}),[s,i]=t.useState({}),o=t.useCallback(((t,e)=>{i(t),n(e)}),[i,n]);return{handlers:e,state:s,bindReader:o}};
//# sourceMappingURL=index.min.js.map
